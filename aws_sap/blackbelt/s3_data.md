## [S3 データ保護](https://www.youtube.com/watch?v=JCuSaHroRbo&list=PLzWGOASvSx6FIwIC2X1nObr1KcMCBBlqY&index=23&ab_channel=AmazonWebServicesJapan%E5%85%AC%E5%BC%8F)

### データ保護ポイント

- アップロード時
  - オブジェクトの整合性
  - 上書きや削除から守る
    - バージョニング
    - オブジェクトロック
    - 多要素認証の要求
- バックアップ
- レプリケーション
- Storage lens を用いてメトリクスの取得

### バージョニング

- バケットレベルで設定する
  - 作成以降のオブジェクトは、バージョン id が付与される
- オブジェクト分課金の対象になる
- オブジェクトロック
  - バージョニングされたバケットにのみ適応できる
  - WORM: Write Once Read Many
  - 削除・上書きを一定期間・無期限に指定できる
  - 保持期間とリーガルホールド

### バックアップ

- 暗号化が可能
- 削除保護などが可能
- バックアッププラン
  - いつ、どのようにバックアプするか
- Backup  Vault
- バージョニングを有効化する必要がある
- 定期的なバックアップとポイントインタイムリカバリ用の継続的なバックアップが選択できる

### レプリケーション

- オブジェクトのレプリケーション
  - S3 バケット間で、オブジェクトを非同期コピーできる
  - ソースバケットとターゲットバケットは、アカウント・リージョンが異なってても可能
    - クロスアカウント・クロスリージョンレプリケーションが可能
  - 必要な準備
    - ソースとターゲットバケットは共に、**バージョニングを有効**にする
    - **レプリケーションルールには適切な権限**を付与する
  - オプションの追加
  - 別のストレージクラスも指定できる
- 注意
  - 多段レプリケーションはされない
  - クロスリージョンレプリケーション
    - 遠く離れた地位kにデータをレプリケートすることで、**コンプライアンス要件を満たす**
    - **DR**

### データの整合性

- チェックサムの利用
  - デジタルフィンガープリントの一種
  - 用語
    - MD5
    - ETag
    - 追加のチェックサム
